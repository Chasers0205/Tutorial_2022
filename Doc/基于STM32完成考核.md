# 基于STM32完成考核任务

Author：@LinHuangnan

Revise：

| 版本 | 说明 |备注|
| ---- | ---- | ---- |
| v0.0.0 | 建立文档 |无|
| v0.0.1 |  |  |

## 前言

首先介绍与STM32相关的一些概念

`嵌入式` 嵌入式即嵌入式系统，是用于控制、监视或者辅助操作机器和设备的装置，是一种专用的计算机系统，或者说是将微型计算机嵌入到电子产品内部，生活中看到的很多设备其实都是嵌入式系统，包括：空调、冰箱、洗衣机等家电，智能手机和智能手表和其他可穿戴智能硬件，摄像头、智能门锁等等

`单片机` 单片机也广泛称为单片`微控制器`（`MCU`），具有数据处理能力的中央处理器CPU、随机存储器RAM、只读存储器ROM、多种I/O口和中断系统、定时器/计数器等功能（可能还包括显示驱动电路、脉宽调制电路、模拟多路转换器、A/D转换器等电路）集成到一块硅片上构成的一个小而完善的微型计算机系统，简单来说就是独有一个芯片（本质上是芯片内独有一个半导体chip）的计算机系统，或者说是单个片（chip）上的计算机系统。粗略的划分单片机也属于嵌入式系统，因为很多嵌入式产品中被嵌入的计算机系统就是单片机

`微控制器` 微处理器就是我们通常说的CPU，这里不作讨论

`单片机的位数` 指CPU 一次能够处理的数据的宽度，或者参与运算的寄存器的数据长度，常见的8 bit单片机有51单片机，STM8等，常见的16 bit单片机有TI公司的MSP430/MSP432,常见的32 bit单片机有STM32等

`单片机的时钟频率` 时钟频率，通俗的说就是对单片机执行指令提供一个节拍，一般时钟频率越高，单片机处理数据的速度就越快

### 什么是STM32
#### STM32是什么
- ST 意法半导体，即SOC厂商
- M  Microelectronics的缩写，即微控制器
- 32 32bit，表示是一个32bit微控制器

通过上面的讨论，可以知道其实STM32就是一种数据宽度为32bit的单片机

#### 为什么选择STM32
选择STM32，主要是因为STM32控制方便、功能强大、高性能、低成本、低功耗
- STM32的外设资源丰富
- STM32基于库开发的方式降低了编程的难度
- 时钟频率高，速度快，比如F1系列的时钟频率达到72MHz，F4系列可以达到168MHz

### STM32的开发方式
STM32有三种常见的开发方式
- `直接配置寄存器` 你可能学过51单片机，直接操作寄存器是51单片机很常见的一种开发方式，但是这种方法到了STM32就变得不太容易行得通了，因为STM32的寄存器数量是51单片机的十数倍，如此多的寄存器根本无法全部记忆，开发时需要经常的翻查芯片的数据手册，此时直接操作寄存器就变得非常的费力了。但还是会有很小一部分人，喜欢去直接操作寄存器，因为这样更接近原理，知其然也知其所以然
- `标准库` ST公司为每款芯片都编写了一份库文件，也就是工程文件里stm32F1xx…之类的。在这些 .c .h文件中，包括一些常用量的宏定义，把一些外设也通过结构体变量封装起来，如GPIO口时钟等。所以我们只需要配置结构体变量成员就可以修改外设的配置寄存器，从而选择不同的功能。也是目前最多人使用的方式，也是学习STM32接触最多的一种开发方式
- HAL库开发 HAL库是ST公司目前主力推的开发方式，全称就是Hardware Abstraction Layer（抽象印象层）。它的出现比标准库要晚，但其实和标准库一样，都是为了节省程序开发的时间，而且HAL库尤其的有效，如果说标准库把实现功能需要配置的寄存器集成了，那么HAL库的一些函数甚至可以做到某些特定功能的集成。也就是说，同样的功能，标准库可能要用几句话，HAL库只需用一句话就够了。并且HAL库也很好的解决了程序移植的问题，不同型号的stm32芯片它的标准库是不一样的，例如在F4上开发的程序移植到F3上是不能通用的，而使用HAL库，只要使用的是相通的外设，程序基本可以完全复制粘贴。而且使用HAL库开发可以配合使用ST公司研发的CubeMX软件，可以通过图形化的界面配置功能，直接生成整个使用HAL库的工程文件。

**这里建议入门时先学习标准库，~~因为标准库对于新手相对友好~~，而且CSDN上有很多的示例程序，大部分示例程序都很好移植**

**学习STM32还是应该注重实践，可以跟着立创开源广场，B站上面的教程，自己复现一些开源项目，完成一两个项目之后，差不多就能够比较好的掌握STM32的常用外设**

## 软件/工具 介绍

## 软件安装/环境配置

## 需要掌握的内容

## 推荐教程/参考资料
STM32 标准库教程推荐[B站上的这个教程](https://www.bilibili.com/video/BV1th411z7sn?share_source=copy_web&vd_source=34ed110d766ac5910b35ccc9afedda6e)

STM32 HAL库教程推荐[CSDN上的Z小旋的博客](https://learngitbranching.js.org/?locale=zh_CN)
